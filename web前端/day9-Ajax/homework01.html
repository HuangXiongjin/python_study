<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			* {
				margin: 0;
				padding: 0;
			}
			#adv {
				width: 470px;
				margin: 0 auto;
			}
			#adv>ul {
				width: 120px;
				height: 30px;
				margin: 0 auto;
				position: relative;
				top: -36px;
			}
			#adv li {
				width: 30px;
				height: 30px;
				list-style: none;
				float: left;
				color: #ccc;
				cursor: pointer;
				text-align: center;
				line-height: 30px;
			}
			#adv li:first-child {
				color: lightseagreen;
			}
		</style>
	</head>
	<body>
		<div id="adv">
			<img src="img/one.jpg" width="470" alt="">
			<ul>
				<li class="dot">●</li>
				<li class="dot">●</li>
				<li class="dot">●</li>
				<li class="dot">●</li>
			</ul>
		</div>
		<script src="js/jquery.min.js"></script>
		<script>
			$(() => {
						const imageNames = ['one', 'two', 'three', 'four']
						const advImage = $('#adv>img')
						const dots = $('#adv li.dot')
						
						let imageIndex = 0
						let timerId = setInterval(switchAdvImage, 2000)
						
						function changeImageWithAnimation() {
							advImage.fadeOut(250, () => {
								advImage.attr('src', 'img/' + imageNames[imageIndex] + '.jpg')
								advImage.fadeIn(500)
								dots.each((i) => {
									let color = imageIndex == i? 'lightseagreen': '#ccc'
									$(dots[i]).css('color', color)
								})
							})
						}
						
						function switchAdvImage() {
							imageIndex += 1
							imageIndex %= imageNames.length
							changeImageWithAnimation()
						}
						
						dots.on('mouseover', (evt) => {
							clearInterval(timerId)
							imageIndex = dots.index(evt.target)
							changeImageWithAnimation()
						})
						dots.on('mouseout', (evt) => {
							timerId = setInterval(switchAdvImage, 2000)
						})
					})

		</script>
	</body>
</html>
