<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript" src="js/jquery.min.js"></script>
		<script type="text/javascript">
			$(function(){
				
				var isMove = false
				var old_offsetX, old_offsetY
				
				//点击方块切换上下层位置
				var maxZIndex = 3
				$('body').on('mousedown','div',function(evt){
					$(this).css('z-index', maxZIndex)
					maxZIndex++
					
					//鼠标在div上才可以动
					isMove = true
					//保存鼠标开始的位置
					old_offsetX = evt.offsetX
					old_offsetY = evt.offsetY
				})
				
				//鼠标弹起不能动
				$('body').on('mouseup',function(){
					isMove = false
				})
				
				//鼠标离开也不能动
				$('body').on('mouseleave','div',function(){
					isMove = false
				})
				
				//移动div
				$('body').on('mousemove','div', function(evt){
					if(isMove){
						$(this).css('left', evt.clientX - old_offsetX)
						$(this).css('top', evt.clientY - old_offsetY)
					}
				})
				
				
				
				
				
		
			})
		</script>
		
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			
			div{
				width: 250px;
				height: 250px;
				
				position: absolute;
			}
			
			#box1{
				background-color: red;
				
				left: 200px;
				top: 200px;
				
			}
			#box2{
				
				background-color: green;
				
				left: 250px;
				top: 220px;
			}
			#box3{
				
				background-color: cornflowerblue;
				
				left: 400px;
				top: 300px;
			}
			
			
		</style>
		
	</head>
	<body>
		<div id="box1"></div>
		<div id="box2"></div>
		<div id="box3"></div>
	</body>
	
	
</html>
