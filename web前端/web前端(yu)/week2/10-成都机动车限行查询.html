<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<!--=======样式=============-->
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			#box1{
				height: 230px;
				
				border-bottom: 1px solid rgb(150,150,150);
				
				text-align: center;
				
				position: relative;
			}
			
			#box1 div{
				position: absolute;
				bottom: 10px;
				
				width: 100%;
			}
			
			/*=======输入框======*/
			#carNo{
				border: 0;
				border-bottom: 1px dotted rgb(200,200,200);
				
				width: 400px;
				height: 60px;
				
				text-align: center;
				
				font-size: 30px;
				
				vertical-align: bottom;
			}
			#carNo:focus{
				outline: 0;
			}
			
			/*==========按钮===========*/
			#box1 button{
				width: 100px;
				height: 40px;
				
				font-size: 20px;
				color: white;
				background-color: red;
				
				vertical-align: bottom;
			}
			
			/*===========插叙结果=============*/
			#box2 p{
				text-align: center;
				
				font-size: 25px;
			}
		</style>
	</head>
	<body>
		<!--==========内容===========-->
		<div id="box1">
			<div id="">
				<input type="" name="" id="carNo" value="" placeholder="请输入车牌号"/>
				<button onclick="queryAction()">查询</button>
				<button onclick="clearAction()">清除</button>
			</div>
		</div>
		<div id="box2"></div>
		
		
		<!--===========js=============-->
		<script type="text/javascript">
			
			function isTrafficControl(carNo){
				//0.今天是星期几
				tody = new Date()
				week = tody.getDay()
				if(week == 0 || week == 6){
					return false
				}
				
				//1.找到第一个数字字符
				numer = ''
				for(x=carNo.length-1;x>=0;x--){
					ch = carNo[x]
					if('0'<=ch && ch<='9'){
						numer = ch
						break
					}
				}
				console.log('====：',numer)
				
				//2.日期对应的车牌号是否限行
				if(numer == week || numer==(week+5)%10){
					return true
				}
				
				return false
			}
			//=============查询功能==============
			function queryAction(){
				//1.获取输入框中的内容
				inputNode = document.getElementById('carNo')
				carNumer = inputNode.value
				console.log(carNumer)
				
				result = ''
				//2.判断是否是合法的车牌号
				//第一位: 京津沪渝辽吉黑冀鲁豫晋陕甘闽粤桂川云贵苏浙皖湘鄂赣青新宁蒙藏琼
				//第二位：A-Z
				//后面：五位数字和字母结合
				regular = /^[京津沪渝辽吉黑冀鲁豫晋陕甘闽粤桂川云贵苏浙皖湘鄂赣青新宁蒙藏琼][A-Z][\dA-Z]{5}$/
				if(regular.test(carNumer) == false){
					result = carNumer+'不是合法的车牌号'
				}else{
					if(isTrafficControl(carNumer)){
						result = carNumer+'今日限行!'
					}else{
						result = carNumer+'今日不限行!'
					}
					
				}
				
				//3.在页面上显示结果
				pNode = document.createElement('p')
				pNode.innerText = result
				document.getElementById('box2').appendChild(pNode)
				
			}
			
			//==================清除功能===================
			function clearAction(){
				document.getElementById('box2').innerHTML = ''
			}
			
			
		</script>
	</body>
</html>
