<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>房屋信息</title>
		<script type="text/javascript" src="js/jquery.min.js"></script>
		<script type="text/javascript" src="js/tool.js"></script>
		<script type="text/javascript">
			
			function creatUI(data){
				//1.创建盒子
				let boxNode = $('<div class="box1"></div>')
				$('#box').append(boxNode)
				//2.图片
				let imgNode = $('<img class="icon"/>')
				imgNode.attr('src', data.image)
				boxNode.append(imgNode)

				//3.小盒子
				let smallBoxNode = $('<div class="box2"></div>')
				boxNode.append(smallBoxNode)
				
				//4.标题
				let titleNode = $('<p class="title"></p>')
				titleNode.text(data.title)
				smallBoxNode.append(titleNode)
				
				//5.其他信息
				let otherInfoBoxNode = $('<div class="other"></div>')
				smallBoxNode.append(otherInfoBoxNode)
				
				//名字
				if(data.name){
					let nameNode = $('<font class="name"></font>')
					nameNode.text(data.name)
					otherInfoBoxNode.append(nameNode)
					otherInfoBoxNode.append($('<font> | </font>'))
				}
				
				//户型
				if(data.type){
					let typeNode = $('<font class="type"></font>')
					typeNode.text(data.type)
					otherInfoBoxNode.append(typeNode)
					otherInfoBoxNode.append($('<font> | </font>'))
				}
				
				//面积
				if(data.area){
					let areaNode = $('<font class="area"></font>')
					areaNode.text(data.area)
					otherInfoBoxNode.append(areaNode)
				}
				
				//6.价格
				let priceNode = $('<p class="price"></p>')
				priceNode.text(data.price)
				smallBoxNode.append(priceNode)
			}
			
			$.ajax({
				type:"get",
				url:"http://rap2api.taobao.org/app/mock/177073/houseList",
				async:true,
				dataType:'json',
				success: function(result){
					console.log(result)
					//获取房屋信息列表
					datalist = result.datalist
					datalist.forEach(function(item, x, arr){
						creatUI(item)
					})
				}
			});
		</script>
		
		
		<!--==============样式=================-->
		<style type="text/css">
			/*大盒子*/
			.box1{
				/*background-color: lavender;*/
				width: 100%;
				height: 180px;
				
				border-bottom: 1px solid rgba(190,190,190,0.6);
				/*border-top: 1px solid rgb(190,190,190);*/
			}
			
			/*图片*/
			.icon{
				height: 150px;
				width: 200px;
				
				float: left;
				margin-top: 15px;
			}
			
			
			/*图片后面的小盒子*/
			.box2{
				float: left;
				
				margin-left: 10px;
				margin-top: 15px;
			}
			
			
			/*标题*/
			.title{
				font-size: 22px;
				color: rgb(50,50,50);
			}
			
			.other{
				color: rgb(190,190,190);
				font-size: 13px;
			}
			
			.price{
				color: red;
				font-size: 20px;
			}
			
			
		</style>
	</head>
	<body>
		<div id="box">
			
		</div>
	</body>
</html>
